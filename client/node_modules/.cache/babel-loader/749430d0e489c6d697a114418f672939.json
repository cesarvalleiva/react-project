{"ast":null,"code":"var _jsxFileName = \"/Users/cesarvalleiva/Desktop/proyectos/web/client/src/components/Admin/Users/ListUsers/ListUsers.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Switch, List, Avatar, Button, notification } from 'antd';\nimport { EditOutlined, StopOutlined, DeleteOutlined, CheckOutlined } from '@ant-design/icons';\nimport NoAvatar from '../../../../assets/img/png/no-avatar.png';\nimport Modal from '../../../Modal';\nimport EditUserForm from '../EditUserForm';\nimport { getAvatarApi, activateUserApi } from '../../../../api/user';\nimport { getAccessTokenApi } from '../../../../api/auth';\nimport './ListUsers.scss';\nexport default function ListUsers(props) {\n  const {\n    usersActive,\n    usersInactive,\n    setReloadUsers\n  } = props;\n  const [viewUsersActives, setViewUsersActives] = useState(true);\n  const [isVisibleModal, setIsVisibleModal] = useState(false);\n  const [modalTitle, setModalTitle] = useState(\"\");\n  const [modalContent, setModalContent] = useState(null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-users__switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    defaultChecked: true,\n    onChange: () => setViewUsersActives(!viewUsersActives),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, viewUsersActives ? \"Usuarios activos\" : \"Usuarios inactivos\")), viewUsersActives ? /*#__PURE__*/React.createElement(UsersActive, {\n    usersActive: usersActive,\n    setIsVisibleModal: setIsVisibleModal,\n    setModalTitle: setModalTitle,\n    setModalContent: setModalContent,\n    setReloadUsers: setReloadUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(UsersInactive, {\n    usersInactive: usersInactive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    title: modalTitle,\n    isVisible: isVisibleModal,\n    setIsVisible: setIsVisibleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, modalContent));\n}\n\nfunction UsersActive(props) {\n  const {\n    usersActive,\n    setIsVisibleModal,\n    setModalTitle,\n    setModalContent,\n    setReloadUsers\n  } = props;\n\n  const editUser = user => {\n    setIsVisibleModal(true);\n    setModalTitle(`Editar ${user.name ? user.name : \"...\"} ${user.lastname ? user.lastname : \"...\"}`);\n    setModalContent( /*#__PURE__*/React.createElement(EditUserForm, {\n      user: user,\n      setIsVisibleModal: setIsVisibleModal,\n      setReloadUsers: setReloadUsers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(List, {\n    className: \"users-active\",\n    itemLayout: \"horizontal\",\n    dataSource: usersActive,\n    renderItem: user => /*#__PURE__*/React.createElement(UserActive, {\n      user: user,\n      editUser: editUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  });\n}\n\nfunction UserActive(props) {\n  const {\n    user,\n    editUser\n  } = props;\n  const [avatar, setAvatar] = useState(null);\n  useEffect(() => {\n    if (user.avatar) {\n      getAvatarApi(user.avatar).then(response => {\n        setAvatar(response);\n      });\n    } else {\n      setAvatar(null);\n    }\n  }, [user]);\n\n  const desactivateUser = () => {\n    const accessToken = getAccessTokenApi();\n    activateUserApi(accessToken, user._id, false).then(response => {\n      notification['success']({\n        message: response\n      });\n    }).catch(err => {\n      notification['error']({\n        message: err\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(List.Item, {\n    actions: [/*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => editUser(user),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(EditOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"danger\",\n      onClick: () => console.log('Desactivar usuario'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(StopOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"danger\",\n      onClick: () => console.log('Eliminar usuario'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n    avatar: /*#__PURE__*/React.createElement(Avatar, {\n      src: avatar ? avatar : NoAvatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }),\n    title: `\n                    ${user.name ? user.name : '...'}\n                    ${user.lastname ? user.lastname : '...'}\n                `,\n    description: user.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }));\n}\n\nfunction UsersInactive(props) {\n  const {\n    usersInactive\n  } = props;\n  return /*#__PURE__*/React.createElement(List, {\n    className: \"users-active\",\n    itemLayout: \"horizontal\",\n    dataSource: usersInactive,\n    renderItem: user => /*#__PURE__*/React.createElement(UserInactive, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  });\n}\n\nfunction UserInactive(props) {\n  const {\n    user\n  } = props;\n  const [avatar, setAvatar] = useState(null);\n  useEffect(() => {\n    if (user.avatar) {\n      getAvatarApi(user.avatar).then(response => {\n        setAvatar(response);\n      });\n    } else {\n      setAvatar(null);\n    }\n  }, [user]);\n  return /*#__PURE__*/React.createElement(List.Item, {\n    actions: [/*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => console.log('Activar usuarios'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CheckOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"danger\",\n      onClick: () => console.log('Eliminar usuario'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n    avatar: /*#__PURE__*/React.createElement(Avatar, {\n      src: avatar ? avatar : NoAvatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }),\n    title: `\n                    ${user.name ? user.name : '...'}\n                    ${user.lastname ? user.lastname : '...'}\n                `,\n    description: user.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/cesarvalleiva/Desktop/proyectos/web/client/src/components/Admin/Users/ListUsers/ListUsers.js"],"names":["React","useState","useEffect","Switch","List","Avatar","Button","notification","EditOutlined","StopOutlined","DeleteOutlined","CheckOutlined","NoAvatar","Modal","EditUserForm","getAvatarApi","activateUserApi","getAccessTokenApi","ListUsers","props","usersActive","usersInactive","setReloadUsers","viewUsersActives","setViewUsersActives","isVisibleModal","setIsVisibleModal","modalTitle","setModalTitle","modalContent","setModalContent","UsersActive","editUser","user","name","lastname","UserActive","avatar","setAvatar","then","response","desactivateUser","accessToken","_id","message","catch","err","console","log","email","UsersInactive","UserInactive"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Switch, List, Avatar, Button, notification } from 'antd';\nimport { EditOutlined, StopOutlined, DeleteOutlined, CheckOutlined } from '@ant-design/icons';\nimport NoAvatar from '../../../../assets/img/png/no-avatar.png';\nimport Modal from '../../../Modal';\nimport EditUserForm from '../EditUserForm';\nimport { getAvatarApi, activateUserApi } from '../../../../api/user';\nimport { getAccessTokenApi } from '../../../../api/auth';\n\nimport './ListUsers.scss';\n\nexport default function ListUsers(props) {\n    const { usersActive, usersInactive, setReloadUsers } = props;\n    const [viewUsersActives, setViewUsersActives] = useState(true);\n    const [isVisibleModal, setIsVisibleModal] = useState(false);\n    const [modalTitle, setModalTitle] = useState(\"\");\n    const [modalContent, setModalContent] = useState(null);\n\n    return(\n        <div className=\"list-users\">\n            <div className=\"list-users__switch\">\n                <Switch\n                    defaultChecked\n                    onChange={() => setViewUsersActives(!viewUsersActives)}\n                />\n                <span>\n                    {viewUsersActives ? \"Usuarios activos\" : \"Usuarios inactivos\"}\n                </span>\n            </div>\n\n            {viewUsersActives ? (\n                <UsersActive \n                    usersActive={usersActive}\n                    setIsVisibleModal={setIsVisibleModal}\n                    setModalTitle={setModalTitle}\n                    setModalContent={setModalContent}\n                    setReloadUsers={setReloadUsers}\n                />\n             ) : (\n                <UsersInactive usersInactive={usersInactive} />\n             )}\n\n            <Modal\n                title={modalTitle}\n                isVisible={isVisibleModal}\n                setIsVisible={setIsVisibleModal}\n            >\n                {modalContent}\n            </Modal>\n        </div>\n    )\n}\n\nfunction UsersActive(props) {\n    const { usersActive, setIsVisibleModal, setModalTitle, setModalContent, setReloadUsers } = props;\n\n    const editUser = user => {\n        setIsVisibleModal(true);\n        setModalTitle(`Editar ${user.name ? user.name: \"...\"} ${user.lastname ? user.lastname : \"...\"}`);\n        setModalContent(<EditUserForm user={user} setIsVisibleModal={setIsVisibleModal} setReloadUsers={setReloadUsers} />);\n    }\n    return(\n        <List\n            className=\"users-active\"\n            itemLayout=\"horizontal\"\n            dataSource={usersActive}\n            renderItem={user => <UserActive user={user} editUser={editUser} />}\n        />    \n    )\n}\n\nfunction UserActive(props) {\n    const { user, editUser } = props;\n    const [avatar, setAvatar] = useState(null);\n\n    useEffect(() => {\n        if(user.avatar){\n            getAvatarApi(user.avatar).then(response => {\n                setAvatar(response)\n            })\n        } else {\n            setAvatar(null)\n        }\n    }, [user]);\n\n    const desactivateUser = () => {\n        const accessToken = getAccessTokenApi();\n\n        activateUserApi(accessToken, user._id, false)\n        .then(response => {\n            notification['success']({\n                message: response\n            });\n        })\n        .catch(err => {\n            notification['error']({\n                message: err\n            })\n        })\n    }\n\n    return (\n        <List.Item\n            actions={[\n                <Button \n                    type=\"primary\"\n                    onClick={() => editUser(user)}\n                >\n                    <EditOutlined />\n                </Button>,\n                <Button\n                    type=\"danger\"\n                    onClick={() => console.log('Desactivar usuario')}\n                >\n                    <StopOutlined />\n                </Button>,\n                <Button\n                    type=\"danger\"\n                    onClick={() => console.log('Eliminar usuario')}\n                >\n                    <DeleteOutlined />\n                </Button>\n            ]}\n        >\n            <List.Item.Meta \n                avatar={<Avatar src={avatar ? avatar : NoAvatar} />}\n                title={`\n                    ${user.name ? user.name : '...'}\n                    ${user.lastname ? user.lastname : '...'}\n                `}\n                description={user.email}\n            />\n        </List.Item>\n    )\n}\n\nfunction UsersInactive(props) {\n    const { usersInactive } = props;\n    return(\n        <List\n            className=\"users-active\"\n            itemLayout=\"horizontal\"\n            dataSource={usersInactive}\n            renderItem={user => <UserInactive user={user} />}\n        />    \n    )\n}\n\nfunction UserInactive(props) {\n    const { user } = props;\n    const [avatar, setAvatar] = useState(null);\n\n    useEffect(() => {\n        if(user.avatar){\n            getAvatarApi(user.avatar).then(response => {\n                setAvatar(response)\n            })\n        } else {\n            setAvatar(null)\n        }\n    }, [user])\n\n    return (\n        <List.Item\n            actions={[\n                <Button \n                    type=\"primary\"\n                    onClick={() => console.log('Activar usuarios')}\n                >\n                    <CheckOutlined />\n                </Button>,\n                <Button\n                    type=\"danger\"\n                    onClick={() => console.log('Eliminar usuario')}\n                >\n                    <DeleteOutlined />\n                </Button>\n            ]}\n        >\n            <List.Item.Meta \n                avatar={<Avatar src={avatar ? avatar : NoAvatar} />}\n                title={`\n                    ${user.name ? user.name : '...'}\n                    ${user.lastname ? user.lastname : '...'}\n                `}\n                description={user.email}\n            />\n        </List.Item>\n    )\n}"]},"metadata":{},"sourceType":"module"}